import timeit, sys, time


testIEA = ['.', '.', '#', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '#', '.', '#', '.', '#', '.', '#', '#', '#', '.', '#', '#', '.', '.', '.', '.', '.', '#', '#', '#', '.', '#', '#', '.', '#', '.', '.', '#', '#', '#', '.', '#', '#', '#', '#', '.', '.', '#', '#', '#', '#', '#', '.', '.', '#', '.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '#', '#', '.', '.', '#', '#', '\n', '#', '.', '.', '#', '#', '#', '#', '#', '#', '.', '#', '#', '#', '.', '.', '.', '#', '#', '#', '#', '.', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '.', '#', '#', '.', '.', '#', '.', '#', '#', '#', '#', '#', '.', '.', '.', '#', '#', '.', '#', '.', '#', '.', '.', '#', '.', '#', '#', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '#', '#', '#', '\n', '.', '#', '#', '#', '#', '#', '#', '.', '#', '#', '#', '.', '#', '#', '#', '#', '.', '.', '.', '#', '.', '#', '#', '.', '#', '#', '.', '.', '#', '.', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '#', '#', '#', '.', '.', '#', '.', '#', '#', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '#', '.', '\n', '.', '#', '.', '.', '#', '.', '.', '#', '#', '.', '.', '#', '.', '.', '.', '#', '#', '.', '#', '#', '#', '#', '#', '#', '.', '#', '#', '#', '#', '.', '#', '#', '#', '#', '.', '#', '.', '#', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '#', '.', '#', '.', '#', '.', '.', '.', '#', '#', '#', '#', '.', '#', '#', '.', '#', '.', '.', '.', '.', '.', '\n', '.', '#', '.', '.', '#', '.', '.', '.', '#', '#', '.', '#', '.', '#', '#', '.', '.', '#', '.', '.', '.', '#', '#', '.', '#', '.', '#', '#', '.', '.', '#', '#', '#', '.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '#', '.', '#', '#', '#', '#', '.', '#', '#', '#', '.', '#', '#', '.', '.', '.', '#', '.', '.', '\n', '.', '.', '.', '#', '#', '#', '#', '.', '#', '.', '.', '#', '.', '.', '#', '.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '#', '.', '.', '#', '.', '#', '#', '#', '#', '.', '.', '.', '.', '#', '#', '.', '.', '.', '#', '#', '.', '.', '#', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '\n', '.', '.', '#', '#', '.', '.', '#', '#', '#', '#', '.', '.', '#', '.', '.', '.', '#', '.', '#', '.', '#', '.', '.', '.', '#', '#', '.', '.', '#', '.', '#', '.', '.', '#', '#', '#', '.', '.', '#', '#', '#', '#', '#', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '.', '#', '#', '#', '#', '.', '.', '.', '.', '.', '.', '#', '.', '.', '#']

testData = [
['#', '.', '.', '#', '.'],
['#', '.', '.', '.', '.'],
['#', '#', '.', '.', '#'],
['.', '.', '#', '.', '.'],
['.', '.', '#', '#', '#']
]


def numFind(a, n):
    legend = {}
    
    for char in range(0, len(a)):
        legend[(char)] = a[char]
    n = enlarge(n)

    for en in n:
        print(en)
    print()

    enhanced = [(['.'] * len(n[0]))] * len(n)
    for row in range(2, len(n) - 2):
        for col in range(2, len(n[row]) - 2):
            convert = ""
            convert += n[row - 1][col - 1]
            convert += n[row - 1][col]
            convert += n[row - 1][col + 1]
            convert += n[row][col - 1]
            convert += n[row][col]
            convert += n[row][col + 1]
            convert += n[row + 1][col - 1]
            convert += n[row + 1][col]
            convert += n[row + 1][col + 1]
            convert = convert.replace(".", "0").replace("#", "1")
            convert = int(convert, 2)
            enhanced[row][col] = legend[convert]
            print(row, col, convert, legend[convert])
    for row in enhanced:
        print(row)

def enlarge(n):
    for row in range(0, len(n)):
        n[row].insert(0, '.')
        n[row].insert(0, '.')
        n[row].append('.')
        n[row].append('.')
    n.insert(0, ['.'] * len(n[0]))
    n.insert(0, ['.'] * len(n[0]))
    n.append(['.'] * len(n[0]))
    n.append(['.'] * len(n[0]))
    return n


if __name__ == '__main__':
    startTime = timeit.default_timer()
    print(time.asctime())
    a = testIEA
    n = testData
    print("Result:", numFind(a, n))
    print("Run Time Was {:.4F} Seconds".format(timeit.default_timer() - startTime))